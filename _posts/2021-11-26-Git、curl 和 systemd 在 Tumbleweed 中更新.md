---
author: Hanjingxue Boling 
date: 2021-11-26 21:55:00 +0800
layout: post
license: CC-BY-SA-3.0
title: Git、curl 和 systemd 在 Tumbleweed 中更新
image: /assets/posts/misc/systemd-logo.png
categories:
- 更新通告
tags:
- Tumbleweed
- 翻译作品
- 官方新闻
---

openSUSE Tumbleweed 过去一周每天都向滚动发布用户提供快照。

最新发布的快照是 [20211124](https://lists.opensuse.org/archives/list/factory@lists.opensuse.org/thread/L6WQM2H7VAIYSROPKLSZFJZW4WF3CGQ6/)。这个快照带来了 [systemd](https://freedesktop.org/wiki/Software/systemd/) 249.7，它专注于包测试和测试套件的更新依赖项。文本编辑器 [vim](https://www.vim.org/) 8.2.3640 版本是一个小更新，但它充满了许多修复； 一些修复包括处理与 [GTK](https://www.gtk.org/) 相关的[内存泄漏](https://en.wikipedia.org/wiki/Memory_leak)、崩溃和性能问题。本次快照在 [dracut](https://git.kernel.org/pub/scm/boot/dracut/dracut.git) 的更新中删除了一个多余的脚本头，并为 Linux-boot 进程包中的 [zstd](https://github.com/facebook/zstd) 设置了最佳压缩参数。快照中要更新的其他软件包包括 [autoyast2](https://yast.opensuse.org/) 4.4.22、嵌入式 Linux 库 [ell 0.46](https://git.kernel.org/pub/scm/libs/ell/ell.git/)、[GNOME](https://www.gnome.org/) 的文档查看器 [evince](https://wiki.gnome.org/Apps/Evince) 41.3 和 [gtk-vnc](https://wiki.gnome.org/Projects/gtk-vnc) 1.3.0。

快照 [20211123](https://lists.opensuse.org/archives/list/factory@lists.opensuse.org/thread/L6WQM2H7VAIYSROPKLSZFJZW4WF3CGQ6/) 更新了 [git](https://github.com/git) 2.34.0，去掉了`git rebase` 的 `--preserve-merges` 选项。该[软件包](https://raw.githubusercontent.com/git/git/master/Documentation/RelNotes/2.34.0.txt)还调整了 `git add`、`git mv` 和 `git rm` 以避免更新 `sparse-checkout` 定义之外的路径，除非用户指定 `--sparse` 选项。C 客户端库 [mariadb-connector-c 3.2.5](https://mariadb.com/kb/en/mariadb-connector-c-325-release-notes/) 删除了一个回调函数，因为它无法被清除；受影响的版本等于或小于 [OpenSSL](https://www.openssl.org/) 1.0.2。 快照中还更新了 [yast2-packager](https://yast.opensuse.org/) 4.4.14、[yast2-schema](https://yast.opensuse.org/) 4.4.6 和 [yast2-trans](https://yast.opensuse.org/)； 后者更新了日语、斯洛伐克语和加泰罗尼亚语的翻译。

本周的第二个 [Linux 内核](https://www.kernel.org/)更新在快照 [20211122](https://lists.opensuse.org/archives/list/factory@lists.opensuse.org/thread/OEBOU5XKAIVCYLCOLNBIEZN6MMYOZMCL/) 中发布。通过 [kernel-source](https://www.kernel.org/) 5.15.3 更新，修复了 [Clevo 计算机](https://clevo-computer.com/)的[高级 Linux 声音体系](https://en.wikipedia.org/wiki/Advanced_Linux_Sound_Architecture)。[KVM](https://en.wikipedia.org/wiki/Kernel-based_Virtual_Machine) 进行了一些更改，其中包括一项用于处理动态 MSR 寄存器（Model Specific Register）拦截切换的更改。[Daniel Stenberg](https://daniel.haxx.se/) 提供了有关 [curl 7.80.0](https://youtu.be/GCjvJnlziLY) 更新的视频内容；该版本是第 204 个版本，添加了 [SHA256 指纹](https://en.wikipedia.org/wiki/Public_key_fingerprint)支持并修复了如果无法将 [SSL](https://en.wikipedia.org/wiki/Transport_Layer_Security#SSL_1.0,_2.0,_and_3.0) 会话添加到缓存中的内存泄漏。[xfsprogs](https://www.linuxfromscratch.org/blfs/view/svn/postlfs/xfsprogs.html) 更新至 5.14.0 ，并引入了 [liburcu](https://liburcu.org/) 支持。[yast2-bootloader](https://github.com/yast/yast-bootloader/pull/654) 4.4.8 包配置了自定义引导分区，使其更加[健壮和直观](https://github.com/yast/yast-bootloader/pull/654)。其他要更改的 openSUSE 软件包是 [snapper](https://en.opensuse.org/openSUSE:Snapper_Tutorial)，它从版本 0.9.1 降级到 0.9.0，以及 [transactional-update 3.6.2](https://github.com/openSUSE/transactional-update)，它修复了如果挂载点设置了 `unbindable` 挂载标志而无法运行的几个应用程序。Web 框架包 [python-falcon](https://falcon.readthedocs.io/en/stable/) 的主要版本有一个升级到 3.0.1 的小版本更新；此次更新包括[基于 ASGI 的 asyncio](https://docs.python.org/3/library/asyncio.html#module-asyncio) 和 [WebSocket](https://falcon.readthedocs.io/en/stable/api/websocket.html#falcon.asgi.WebSocket) 支持；该软件包通过增强现有功能带来了更好的错误处理。 在这次和前一天的快照中，有几个 [pypi](https://pypi.org/) 软件包被更新。

在快照 [20211121](https://lists.opensuse.org/archives/list/factory@lists.opensuse.org/thread/EQ64LS3VMHJP5RRGA73IGNK4SLUUNBAI/) 中更新的 [pypi](https://pypi.org/) 包是 [python-requests 2.26.0](https://pypi.org/project/requests/)、[python-importlib-resources 5.4.0](https://pypi.org/project/importlib-resources/) 和 [python-packaging 21.2](https://pypi.org/project/packaging/21.2/)，它们放弃了对 [Python](https://www.python.org/) 2.7、Python 3.4 和 Python 3.5 的支持。 随着 [systemd-rpm-macros](https://pkgs.org/download/systemd-rpm-macros) 14 的更新，上游提交的向后移植变得可用。快照中要更新的另外两个包是 [util-linux](https://github.com/util-linux/util-linux) 2.37.2 和 [util-linux-systemd](https://software.opensuse.org/package/util-linux-systemd) 2.37.2。

[systemd](https://freedesktop.org/wiki/Software/systemd/) 249.6 在快照 [20211120](https://lists.opensuse.org/archives/list/factory@lists.opensuse.org/thread/LTH4VIBQT7LHHD2QLP7I5GRDYBF77THK/) 中发布，GitHub 上有[完整的更改列表](https://github.com/openSUSE/systemd/compare/8521f8d22fd44400289fcea03493ebd7f8b1487d...61c79e68381801428c0bc00a56b9e2e9cfa68373)；更新包中也有大量[文档改进](https://github.com/openSUSE/systemd/commit/c029dc6272288fa1a526b06e60d9071ff29dce9e)。[firewalld](https://firewalld.org/) 1.0.2 的更新修复了一些与 [nftables](https://netfilter.org/projects/nftables/) 相关的拼写错误和分类。来自 [YaST Sprint](https://yast.opensuse.org/blog/2021-10-26/sprints-133-134) 的 yast2-storage-ng 4.4.14 的 10 月份更新调整了 YaST 在 `fstab` 文件中引用 [LUKS](https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup) 设备的方式，以使 [systemd](https://freedesktop.org/wiki/Software/systemd/) 更容易处理某些情况。 快照中更新的其他软件包是 [php7](https://www.php.net/) 7.4.26、[libstorage-ng](https://github.com/openSUSE/libstorage-ng) 4.4.57 和 [ncurses](https://en.wikipedia.org/wiki/Ncurses) 6.3 等。

[Mesa](https://www.mesa3d.org/) 21.3.0 是快照 [20211119](https://lists.opensuse.org/archives/list/factory@lists.opensuse.org/thread/DH2BTRGDWKI6YTBA5SOZP3S7NZX26NZV/) 中要更新的软件包之一。Meda 更新使 [Panfrost](https://docs.mesa3d.org/drivers/panfrost.html) 驱动程序正式符合 [GLES](https://en.wikipedia.org/wiki/OpenGL_ES) 3.1。[nodejs16](https://nodejs.org/en/) 16.13.0 的更新带来了一个实验性的 [ESM Loader](https://github.com/nodejs/node/pull/37468) Hooks [应用程序接口](https://en.wikipedia.org/wiki/API)。[ImageMagick](https://imagemagick.org/index.php) 7.1.0.14 的更新修复了解析恶意 [ps 图像文件](https://fileinfo.com/extension/ps)时堆栈溢出的问题。该图像编辑器将不再将 PSD 文件的配置文件复制到所有图像； 只有第一个返回的图像将包含配置文件。 要重新启用旧行为，请添加 `-define psd:replicate-profile=true`。[snapper](https://en.opensuse.org/openSUSE:Snapper_Tutorial) 更新至 0.9.1 版，旨在修复一些 [systemd](https://freedesktop.org/wiki/Software/systemd/) 沙箱，然后在稍后的快照中进行回溯。 许多 [YaST](https://yast.opensuse.org/) 包在快照中更新，如 [yast2](https://yast.opensuse.org/) 4.4.22、autoyast2 4.4.21、yast2-installation 4.4.22、yast2-packager 4.4.13 和 yast2-update 4.4.4。[YaST 博客](https://yast.opensuse.org/blog/)中定期描述了这些包的更新。

从本周开始，快照 [20211118](https://lists.opensuse.org/archives/list/factory@lists.opensuse.org/thread/7AXG5RDEUWEKWZXCO47NDZ3V37FNMW5Q/) 给了用户一个微笑的理由 —— [GNOME](https://www.gnome.org/) 的网络摄像头应用程序 [cheese](https://wiki.gnome.org/Apps/Cheese) 41.1的更新，该更新更新了项目描述和翻译。[iproute2](https://git.kernel.org/pub/scm/network/iproute2/iproute2.git) 5.15 的更新添加了[链路聚合控制协议](https://en.wikipedia.org/wiki/Link_aggregation)主动支持，[python-argon2-cffi](https://pypi.org/project/argon2-cffi/) 21.1.0 被修改为跳过 Python 2 的构建，因为它不再受支持。[Linux 内核](https://www.kernel.org/)在 Tumbleweed 中从 5.14.14 更新到了 5.15.2 ，开始了连续一周的快乐的快照。祝你们玩得很开心！

------

原文：[Git, curl, systemd Roll with Tumbleweed](https://news.opensuse.org/2021/11/26/git-curl-systmed-with-tw/)，作者：Douglas DeMaio